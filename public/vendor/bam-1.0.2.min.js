function BeatsAudioManager(e,t){return this.eventDispatcher=new EventDispatcher,this.NETWORK_EMPTY=0,this.NETWORK_IDLE=1,this.NETWORK_LOADING=2,this.NETWORK_NO_SOURCE=3,this.networkState,this.HAVE_NOTHING=0,this.HAVE_METADATA=1,this.HAVE_CURRENT_DATA=2,this.HAVE_FUTURE_DATA=3,this.HAVE_ENOUGH_DATA=4,this.readyState=this.NETWORK_NO_SOURCE,this.error,this._volume=.7,this._duration="",this._loop=!1,this._muted=!1,this._loop=!1,this._paused=!1,this._playing=!1,this._metadata="",this._loaded=!1,this._seeking=!1,this._ended=!1,this.width=1,this.height=1,this.frameId=0,this.version="1.0.2",this.cdn="http://bam.cdn.beatsmusic.com/",this.engine,this.name="bam",e!==void 0&&(this.name=e),this.enginePath="bam-"+this.version+".swf",t||(this.enginePath=this.cdn+this.enginePath),this.engineId=this.name+"_engine",this.controllerName=this.name+"_controller",this.containerName=this.name+"_container",this.initialize(),this}function EventDispatcher(){return this.events={},this}(function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;t.length>i&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-e)),a=window.setTimeout(function(){t(i+n)},n);return e=i+n,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})})(),BeatsAudioManager.prototype.initialize=function(){if(10.2>swfobject.getFlashPlayerVersion())return this.error="flashversion",this.dispatch("error","flashversion"),void 0;var e=document.createElement("div");e.id=this.containerName;var t=document.createElement("div");t.id=this.engineId,e.appendChild(t),document.body.appendChild(e);var i={data:this.enginePath,width:this.width,height:this.height},n={allowscriptaccess:"always",swliveconnect:!0,menu:!1,flashvars:"bam="+this.controllerName};swfobject.createSWF(i,n,this.engineId),window[this.controllerName]=this,this.engine=document.getElementById(this.engineId),this.readyState=this.HAVE_NOTHING},Object.defineProperty(BeatsAudioManager.prototype,"clientId",{get:function(){return this.engine.clientId()},set:function(e){this.engine.clientId(e)}}),Object.defineProperty(BeatsAudioManager.prototype,"authentication",{get:function(){return this.engine.authentication()},set:function(e){this.engine.authentication(e)}}),Object.defineProperty(BeatsAudioManager.prototype,"src",{get:function(){return this.engine.identifier()},set:function(e){this.engine.identifier(e)}}),Object.defineProperty(BeatsAudioManager.prototype,"identifier",{get:function(){return this.engine.identifier()},set:function(e){this.engine.identifier(e)}}),Object.defineProperty(BeatsAudioManager.prototype,"playing",{get:function(){return this._playing}}),Object.defineProperty(BeatsAudioManager.prototype,"volume",{get:function(){return this.engine.volume()},set:function(e){e>=0&&1>=e&&(this._volume=this.engine.volume(e),this.dispatch("volumechange",{volume:this._volume}))}}),Object.defineProperty(BeatsAudioManager.prototype,"seekable",{get:function(){return this.engine.seekable()}}),Object.defineProperty(BeatsAudioManager.prototype,"buffered",{get:function(){return this.engine.buffered()}}),Object.defineProperty(BeatsAudioManager.prototype,"paused",{get:function(){return this._paused},set:function(e){e?this.engine.pause():this.engine.resume()}}),Object.defineProperty(BeatsAudioManager.prototype,"autoplay",{get:function(){return this.engine.autoplay()},set:function(e){this.engine.autoplay(e)}}),Object.defineProperty(BeatsAudioManager.prototype,"muted",{get:function(){return this._muted},set:function(e){e?this.engine.volume(0):this.engine.volume(this._volume),this._muted=e}}),Object.defineProperty(BeatsAudioManager.prototype,"loop",{get:function(){return this._loop},set:function(e){this._loop=e}}),Object.defineProperty(BeatsAudioManager.prototype,"currentTime",{get:function(){return this.engine.getCurrentTime()},set:function(e){this._seeking=!0,this.engine.seek(e)}}),Object.defineProperty(BeatsAudioManager.prototype,"ended",{get:function(){return this._ended}}),Object.defineProperty(BeatsAudioManager.prototype,"seeking",{get:function(){return this._seeking}}),Object.defineProperty(BeatsAudioManager.prototype,"spectrumData",{get:function(){return this.engine.getSpectrumData()}}),Object.defineProperty(BeatsAudioManager.prototype,"waveformData",{get:function(){return this.engine.getWaveformData()}}),Object.defineProperty(BeatsAudioManager.prototype,"duration",{get:function(){return this._duration}}),BeatsAudioManager.prototype.load=function(){this.readyState=this.HAVE_NOTHING,this.dispatch("loadstart"),this.engine.load()},BeatsAudioManager.prototype.play=function(){this.engine.play()},BeatsAudioManager.prototype.pause=function(){this.paused=!0},BeatsAudioManager.prototype.stop=function(){this.stopUpdateInterval(),this.engine.stop()},BeatsAudioManager.prototype.initialized=function(e){this.dispatch("ready",e)},BeatsAudioManager.prototype.streamConnectionSuccess=function(){this.networkState=this.NETWORK_LOADING,this.dispatch("connectionsuccess")},BeatsAudioManager.prototype.streamConnectionFailed=function(){this.networkState=this.MEDIA_ERR_NETWORK,this.error="connectionfailure",this.dispatch("error",this.error)},BeatsAudioManager.prototype.streamConnectionClosed=function(){this._playing=!1,this.stopUpdateInterval(),this.networkState=this.NETWORK_EMPTY,this.dispatch("connectionclosed")},BeatsAudioManager.prototype.streamStarted=function(){this._seeking=!1,this._playing=!0,this.startUpdateInterval(),this.readyState=this.HAVE_ENOUGH_DATA,this.dispatch("play")},BeatsAudioManager.prototype.streamComplete=function(){this._playing=!1,this._ended=!0,this.stopUpdateInterval(),this._loop&&this.load(),this.dispatch("ended")},BeatsAudioManager.prototype.streamPaused=function(){this._playing=!1,this._paused=!0,this.dispatch("pause")},BeatsAudioManager.prototype.streamResumed=function(){this._playing=!0,this._paused=!1,this._loaded&&(this.networkState=this.NETWORK_IDLE),this.networkState=this.NETWORK_LOADING,this.dispatch("playing")},BeatsAudioManager.prototype.streamStopped=function(){this._playing=!1,this.networkState=this.NETWORK_IDLE,this.dispatch("stop")},BeatsAudioManager.prototype.streamBufferFull=function(){this.dispatch("canplay")},BeatsAudioManager.prototype.streamBufferEmpty=function(){this.dispatch("stalled")},BeatsAudioManager.prototype.streamBufferFlush=function(){},BeatsAudioManager.prototype.streamReset=function(){this.readyState=this.HAVE_NOTHING,this._ended=!1,this._playing=!1,this._paused=!1,this._muted=!1},BeatsAudioManager.prototype.streamDuration=function(e){this._duration=e[0],this.readyState=this.HAVE_CURRENT_DATA,this.dispatch("durationchange",this._duration)},BeatsAudioManager.prototype.streamMetadata=function(e){this._metadata=e[0],this.readyState=this.HAVE_METADATA,this.dispatch("loadedmetadata",this._metadata)},BeatsAudioManager.prototype.authenticationError=function(){this.error="auth",this.dispatch("error",this.error)},BeatsAudioManager.prototype.apiSecurityError=function(){this.error="apisecurity",this.dispatch("error",this.error)},BeatsAudioManager.prototype.streamSecurityError=function(){this.error="streamsecurity",this.dispatch("error",this.error)},BeatsAudioManager.prototype.streamIOError=function(){this.error="streamio",this.dispatch("error",this.error)},BeatsAudioManager.prototype.trackDataIOError=function(){this.error="apiio",this.dispatch("error",this.error)},BeatsAudioManager.prototype.startUpdateInterval=function(){var e=this;0==this.frameId&&(this.frameId=window.requestAnimationFrame(function(){return e.timeUpdate(e)}))},BeatsAudioManager.prototype.stopUpdateInterval=function(){0!=this.frameId&&(window.cancelAnimationFrame(this.frameId),this.frameId=0)},BeatsAudioManager.prototype.timeUpdate=function(e){e.dispatch("timeupdate");var t=e;e.frameId=window.requestAnimationFrame(function(){return t.timeUpdate(t)})},BeatsAudioManager.prototype.on=function(e,t,i){this.eventDispatcher.addEventListener(e,t,i)},BeatsAudioManager.prototype.removeEventListener=function(e,t){this.eventDispatcher.removeEventListener(e,t)},BeatsAudioManager.prototype.dispatch=function(e,t){this.eventDispatcher.dispatch(e,t)},EventDispatcher.prototype.addEventListener=function(e,t,i){this.events[e]=this.events[e]||[],this.events[e]&&this.events[e].push({callback:t,caller:i})},EventDispatcher.prototype.removeEventListener=function(e,t){if(this.events[e])for(var i=this.events[e],n=i.length-1;n>=0;--n)if(i[n].callback===t)return i.splice(n,1),!0;return!1},EventDispatcher.prototype.dispatch=function(e,t){if(t=t||{},this.events[e])for(var i=this.events[e],n=i.length;n--;)i[n].callback(t,i[n].caller)};var swfobject=function(){function e(){if(!x){try{var e=L.getElementsByTagName("body")[0].appendChild(y("span"));e.parentNode.removeChild(e)}catch(t){return}x=!0;for(var i=V.length,n=0;i>n;n++)V[n]()}}function t(e){x?e():V[V.length]=e}function i(e){if(typeof F.addEventListener!=N)F.addEventListener("load",e,!1);else if(typeof L.addEventListener!=N)L.addEventListener("load",e,!1);else if(typeof F.attachEvent!=N)m(F,"onload",e);else if("function"==typeof F.onload){var t=F.onload;F.onload=function(){t(),e()}}else F.onload=e}function n(){R?a():r()}function a(){var e=L.getElementsByTagName("body")[0],t=y(O);t.setAttribute("type",k);var i=e.appendChild(t);if(i){var n=0;(function(){if(typeof i.GetVariable!=N){var a=i.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),K.pv=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)])}else if(10>n)return n++,setTimeout(arguments.callee,10),void 0;e.removeChild(t),i=null,r()})()}else r()}function r(){var e=H.length;if(e>0)for(var t=0;e>t;t++){var i=H[t].id,n=H[t].callbackFn,a={success:!1,id:i};if(K.pv[0]>0){var r=g(i);if(r)if(!v(H[t].swfVersion)||K.wk&&312>K.wk)if(H[t].expressInstall&&s()){var u={};u.data=H[t].expressInstall,u._width=r.getAttribute("width")||"0",u._height=r.getAttribute("height")||"0",r.getAttribute("class")&&(u.styleclass=r.getAttribute("class")),r.getAttribute("align")&&(u.align=r.getAttribute("align"));for(var p={},h=r.getElementsByTagName("param"),l=h.length,f=0;l>f;f++)"movie"!=h[f].getAttribute("name").toLowerCase()&&(p[h[f].getAttribute("name")]=h[f].getAttribute("value"));d(u,p,i,n)}else c(r),n&&n(a);else w(i,!0),n&&(a.success=!0,a.ref=o(i),n(a))}else if(w(i,!0),n){var y=o(i);y&&typeof y.SetVariable!=N&&(a.success=!0,a.ref=y),n(a)}}}function o(e){var t=null,i=g(e);if(i&&"OBJECT"==i.nodeName)if(typeof i.SetVariable!=N)t=i;else{var n=i.getElementsByTagName(O)[0];n&&(t=n)}return t}function s(){return!$&&v("6.0.65")&&(K.win||K.mac)&&!(K.wk&&312>K.wk)}function d(e,t,i,n){$=!0,B=n||null,M={success:!1,id:i};var a=g(i);if(a){"OBJECT"==a.nodeName?(E=u(a),_=null):(E=a,_=i),e.id=j,(typeof e._width==N||!/%$/.test(e._width)&&310>parseInt(e._width,10))&&(e._width="310"),(typeof e._height==N||!/%$/.test(e._height)&&137>parseInt(e._height,10))&&(e._height="137"),L.title=L.title.slice(0,47)+" - Flash Player Installation";var r=K.ie&&K.win?"ActiveX":"PlugIn",o="MMredirectURL="+(""+F.location).replace(/&/g,"%26")+"&MMplayerType="+r+"&MMdoctitle="+L.title;if(typeof t.flashvars!=N?t.flashvars+="&"+o:t.flashvars=o,K.ie&&K.win&&4!=a.readyState){var s=y("div");i+="SWFObjectNew",s.setAttribute("id",i),a.parentNode.insertBefore(s,a),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}p(e,t,i)}}function c(e){if(K.ie&&K.win&&4!=e.readyState){var t=y("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(u(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(u(e),e)}function u(e){var t=y("div");if(K.win&&K.ie)t.innerHTML=e.innerHTML;else{var i=e.getElementsByTagName(O)[0];if(i){var n=i.childNodes;if(n)for(var a=n.length,r=0;a>r;r++)1==n[r].nodeType&&"PARAM"==n[r].nodeName||8==n[r].nodeType||t.appendChild(n[r].cloneNode(!0))}}return t}function p(e,t,i){var n,a=g(i);if(K.wk&&312>K.wk)return n;if(a)if(typeof e.id==N&&(e.id=i),K.ie&&K.win){var r="";for(var o in e)e[o]!=Object.prototype[o]&&("data"==o.toLowerCase()?t.movie=e[o]:"styleclass"==o.toLowerCase()?r+=' class="'+e[o]+'"':"classid"!=o.toLowerCase()&&(r+=" "+o+'="'+e[o]+'"'));var s="";for(var d in t)t[d]!=Object.prototype[d]&&(s+='<param name="'+d+'" value="'+t[d]+'" />');a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+r+">"+s+"</object>",U[U.length]=e.id,n=g(e.id)}else{var c=y(O);c.setAttribute("type",k);for(var u in e)e[u]!=Object.prototype[u]&&("styleclass"==u.toLowerCase()?c.setAttribute("class",e[u]):"classid"!=u.toLowerCase()&&c.setAttribute(u,e[u]));for(var p in t)t[p]!=Object.prototype[p]&&"movie"!=p.toLowerCase()&&h(c,p,t[p]);a.parentNode.replaceChild(c,a),n=c}return n}function h(e,t,i){var n=y("param");n.setAttribute("name",t),n.setAttribute("value",i),e.appendChild(n)}function l(e){var t=g(e);t&&"OBJECT"==t.nodeName&&(K.ie&&K.win?(t.style.display="none",function(){4==t.readyState?f(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function f(e){var t=g(e);if(t){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode.removeChild(t)}}function g(e){var t=null;try{t=L.getElementById(e)}catch(i){}return t}function y(e){return L.createElement(e)}function m(e,t,i){e.attachEvent(t,i),W[W.length]=[e,t,i]}function v(e){var t=K.pv,i=e.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,t[0]>i[0]||t[0]==i[0]&&t[1]>i[1]||t[0]==i[0]&&t[1]==i[1]&&t[2]>=i[2]?!0:!1}function A(e,t,i,n){if(!K.ie||!K.mac){var a=L.getElementsByTagName("head")[0];if(a){var r=i&&"string"==typeof i?i:"screen";if(n&&(T=null,I=null),!T||I!=r){var o=y("style");o.setAttribute("type","text/css"),o.setAttribute("media",r),T=a.appendChild(o),K.ie&&K.win&&typeof L.styleSheets!=N&&L.styleSheets.length>0&&(T=L.styleSheets[L.styleSheets.length-1]),I=r}K.ie&&K.win?T&&typeof T.addRule==O&&T.addRule(e,t):T&&typeof L.createTextNode!=N&&T.appendChild(L.createTextNode(e+" {"+t+"}"))}}}function w(e,t){if(G){var i=t?"visible":"hidden";x&&g(e)?g(e).style.visibility=i:A("#"+e,"visibility:"+i)}}function b(e){var t=/[\\\"<>\.;]/,i=null!=t.exec(e);return i&&typeof encodeURIComponent!=N?encodeURIComponent(e):e}var E,_,B,M,T,I,N="undefined",O="object",S="Shockwave Flash",C="ShockwaveFlash.ShockwaveFlash",k="application/x-shockwave-flash",j="SWFObjectExprInst",D="onreadystatechange",F=window,L=document,P=navigator,R=!1,V=[n],H=[],U=[],W=[],x=!1,$=!1,G=!0,K=function(){var e=typeof L.getElementById!=N&&typeof L.getElementsByTagName!=N&&typeof L.createElement!=N,t=P.userAgent.toLowerCase(),i=P.platform.toLowerCase(),n=i?/win/.test(i):/win/.test(t),a=i?/mac/.test(i):/mac/.test(t),r=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,o=!1,s=[0,0,0],d=null;if(typeof P.plugins!=N&&typeof P.plugins[S]==O)d=P.plugins[S].description,!d||typeof P.mimeTypes!=N&&P.mimeTypes[k]&&!P.mimeTypes[k].enabledPlugin||(R=!0,o=!1,d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10),s[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10),s[2]=/[a-zA-Z]/.test(d)?parseInt(d.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof F.ActiveXObject!=N)try{var c=new ActiveXObject(C);c&&(d=c.GetVariable("$version"),d&&(o=!0,d=d.split(" ")[1].split(","),s=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)]))}catch(u){}return{w3:e,pv:s,wk:r,ie:o,win:n,mac:a}}();return function(){K.w3&&((typeof L.readyState!=N&&"complete"==L.readyState||typeof L.readyState==N&&(L.getElementsByTagName("body")[0]||L.body))&&e(),x||(typeof L.addEventListener!=N&&L.addEventListener("DOMContentLoaded",e,!1),K.ie&&K.win&&(L.attachEvent(D,function(){"complete"==L.readyState&&(L.detachEvent(D,arguments.callee),e())}),F==top&&function(){if(!x){try{L.documentElement.doScroll("left")}catch(t){return setTimeout(arguments.callee,0),void 0}e()}}()),K.wk&&function(){return x?void 0:/loaded|complete/.test(L.readyState)?(e(),void 0):(setTimeout(arguments.callee,0),void 0)}(),i(e)))}(),function(){K.ie&&K.win&&window.attachEvent("onunload",function(){for(var e=W.length,t=0;e>t;t++)W[t][0].detachEvent(W[t][1],W[t][2]);for(var i=U.length,n=0;i>n;n++)l(U[n]);for(var a in K)K[a]=null;K=null;for(var r in swfobject)swfobject[r]=null;swfobject=null})}(),{registerObject:function(e,t,i,n){if(K.w3&&e&&t){var a={};a.id=e,a.swfVersion=t,a.expressInstall=i,a.callbackFn=n,H[H.length]=a,w(e,!1)}else n&&n({success:!1,id:e})},getObjectById:function(e){return K.w3?o(e):void 0},embedSWF:function(e,i,n,a,r,o,c,u,h,l){var f={success:!1,id:i};K.w3&&!(K.wk&&312>K.wk)&&e&&i&&n&&a&&r?(w(i,!1),t(function(){n+="",a+="";var t={};if(h&&typeof h===O)for(var g in h)t[g]=h[g];t.data=e,t._width=n,t._height=a;var y={};if(u&&typeof u===O)for(var m in u)y[m]=u[m];if(c&&typeof c===O)for(var A in c)typeof y.flashvars!=N?y.flashvars+="&"+A+"="+c[A]:y.flashvars=A+"="+c[A];if(v(r)){var b=p(t,y,i);t.id==i&&w(i,!0),f.success=!0,f.ref=b}else{if(o&&s())return t.data=o,d(t,y,i,l),void 0;w(i,!0)}l&&l(f)})):l&&l(f)},switchOffAutoHideShow:function(){G=!1},ua:K,getFlashPlayerVersion:function(){return{major:K.pv[0],minor:K.pv[1],release:K.pv[2]}},hasFlashPlayerVersion:v,createSWF:function(e,t,i){return K.w3?p(e,t,i):void 0},showExpressInstall:function(e,t,i,n){K.w3&&s()&&d(e,t,i,n)},removeSWF:function(e){K.w3&&l(e)},createCSS:function(e,t,i,n){K.w3&&A(e,t,i,n)},addDomLoadEvent:t,addLoadEvent:i,getQueryParamValue:function(e){var t=L.location.search||L.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return b(t);for(var i=t.split("&"),n=0;i.length>n;n++)if(i[n].substring(0,i[n].indexOf("="))==e)return b(i[n].substring(i[n].indexOf("=")+1))}return""},expressInstallCallback:function(){if($){var e=g(j);e&&E&&(e.parentNode.replaceChild(E,e),_&&(w(_,!0),K.ie&&K.win&&(E.style.display="block")),B&&B(M)),$=!1}}}}();